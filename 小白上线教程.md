# 🎯 小白上线教程 - 超级简单版

**专为零基础小白准备，一步一步教你上线网站！**

---

## 🤔 首先，你需要什么？

1. **一台服务器** - 就像一台24小时不关机的电脑
2. **一个域名** - 就是网址，比如 www.你的网站.com
3. **你的代码** - 就是现在这个项目文件夹

---

## 🎮 第一步：准备服务器（最重要！）

### 你需要买什么服务器？

**推荐配置：**
- **CPU：** 2核心（够用了）
- **内存：** 4GB（最低2GB）
- **硬盘：** 40GB（最低20GB）
- **操作系统：** Ubuntu 20.04 LTS

**哪里买？**
- 阿里云、腾讯云、华为云都可以
- 新用户一般有优惠，一个月几十块钱

### 服务器买好后怎么连接？

**Windows用户：**
1. 下载 "Xshell" 或 "PuTTY" 
2. 输入服务器IP地址
3. 用服务器的用户名和密码登录

**连接成功后你会看到一个黑色窗口，这就是服务器的"命令行"**

---

## 🛠️ 第二步：在服务器上安装必要软件

**复制粘贴下面的命令，一行一行执行：**

```bash
# 更新系统
sudo apt update

# 安装基础软件
sudo apt install -y git nginx python3 python3-pip nodejs npm

# 安装Docker（重要）
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# 安装Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

**说明：** 每输入一行按回车，等它跑完再输入下一行

---

## 📁 第三步：上传你的代码到服务器

### 方法一：用Git上传（推荐）

**1. 先把代码上传到GitHub：**
- 去 GitHub.com 注册账号
- 创建一个新的repository（仓库）
- 在你的电脑上：
```bash
git init
git add .
git commit -m "第一次上传"
git branch -M main
git remote add origin https://github.com/你的用户名/你的仓库名.git
git push -u origin main
```

**2. 在服务器上下载代码：**
```bash
cd /var/www
sudo git clone https://github.com/你的用户名/你的仓库名.git tcm-platform
sudo chown -R $USER:$USER /var/www/tcm-platform
```

### 方法二：直接拖拽上传
- 用WinSCP、FileZilla等工具
- 直接把项目文件夹拖到服务器的 `/var/www/` 目录下

---

## 🔧 第四步：配置你的网站

**1. 进入项目目录：**
```bash
cd /var/www/tcm-platform
```

**2. 复制配置文件：**
```bash
cp .env.production .env
```

**3. 编辑配置文件（重要！）：**
```bash
nano .env
```

**你需要修改这些地方：**
```bash
# 改成False（重要！）
DEBUG=False

# 改成你的域名（重要！）
SERVER_HOST=https://你的域名.com
CORS_ORIGINS=https://你的域名.com

# 改成强密码（重要！）
SECRET_KEY=请随便输入一个很长的密码至少32位字符
```

**保存文件：** 按 `Ctrl+X`，然后按 `Y`，再按回车

---

## 🚀 第五步：一键启动网站

**就一条命令：**
```bash
sudo chmod +x deploy.sh
sudo ./deploy.sh
```

**等待3-5分钟，看到 "部署完成!" 就成功了！**

---

## 🌐 第六步：配置域名（让别人能访问）

### 如果你有域名：

**1. 去域名管理后台，添加DNS记录：**
- 类型：A记录
- 主机记录：@ 和 www
- 记录值：你的服务器IP地址
- TTL：600

**2. 修改Nginx配置：**
```bash
sudo nano /etc/nginx/sites-available/default
```

**把内容改成：**
```nginx
server {
    listen 80;
    server_name 你的域名.com www.你的域名.com;
    
    location / {
        root /var/www/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

**重启Nginx：**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

### 如果你没有域名：
**直接用IP访问：** http://你的服务器IP地址

---

## 🎉 第七步：测试你的网站

**在浏览器里输入：**
- `http://你的域名.com` （如果有域名）
- `http://你的服务器IP` （如果没域名）

**看到你的网站页面就成功了！**

---

## 🔄 以后怎么更新内容？

**超级简单，只需要两步：**

**1. 在你电脑上改完代码后：**
```bash
git add .
git commit -m "我修改了什么内容"
git push
```

**2. 在服务器上更新：**
```bash
cd /var/www/tcm-platform
sudo ./update_production.sh update
```

**等1-2分钟就更新完了！用户完全不受影响！**

---

## 😱 出问题了怎么办？

### 网站打不开了：
```bash
# 检查状态
sudo docker-compose ps

# 重启所有服务
sudo docker-compose restart

# 还不行就回滚到之前的版本
sudo ./update_production.sh rollback
```

### 忘记了什么命令：
**看这个文件：** `HOW_TO_UPDATE_ONLINE.md`

### 完全搞不定：
**重新部署：**
```bash
cd /var/www/tcm-platform
sudo docker-compose down
sudo ./deploy.sh
```

---

## 📞 常用命令速查卡

```bash
# 查看网站状态
curl http://localhost:8000/health

# 查看日志（看看哪里出错了）
sudo docker-compose logs -f

# 更新网站
sudo ./update_production.sh update

# 紧急回滚
sudo ./update_production.sh rollback

# 重启服务器
sudo reboot
```

---

## ✅ 检查清单

**上线前确保这些都做了：**

- [ ] 服务器已经买好并能连接
- [ ] 代码已经上传到服务器
- [ ] `.env` 文件已经修改（DEBUG=False，域名，密码）
- [ ] 执行了 `sudo ./deploy.sh` 
- [ ] 能够在浏览器访问网站
- [ ] 域名DNS已经解析（如果有域名）

**上线后测试这些：**

- [ ] 网站首页能正常打开
- [ ] 用户注册登录功能正常
- [ ] 文件上传功能正常
- [ ] 支付功能正常（如果有）

---

## 🎯 小白常见问题

### Q1：我不会用命令行怎么办？
**A：** 命令行其实很简单，就是复制粘贴我给的命令，按回车就行了！

### Q2：输入命令后报错怎么办？
**A：** 把错误信息截图发给我，或者搜索错误信息的关键词

### Q3：我没有服务器怎么办？
**A：** 必须买一台，推荐阿里云或腾讯云，新用户很便宜

### Q4：域名是必须的吗？
**A：** 不是必须的，可以先用IP访问，等网站做好了再买域名

### Q5：网站上线后怎么修改内容？
**A：** 
1. 在你电脑上改代码
2. `git push` 上传
3. 在服务器上 `sudo ./update_production.sh update`

---

## 🎊 恭喜你！

**如果你按照这个教程做完了，你就成功上线了一个专业的网站！**

现在你拥有：
- ✅ 一个24小时运行的网站
- ✅ 随时修改内容的能力
- ✅ 自动备份和恢复功能
- ✅ 专业的部署流程

**你已经超过了80%的小白！继续加油！** 🚀

---

**有任何问题随时问我，我会用最简单的方式教你！**